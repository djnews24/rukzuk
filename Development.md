# Set up rukzuk Development Env

## Prerequisites

* Linux
* Vagrant
* Docker
* Node.js/NPM

The installation depends on your linux distribution. For archlinux it is as simple as: `sudo pacman -S docker vagrant nodejs npm`

## Install requirements

Install grunt:

```
sudo npm install -g grunt
```

## Build

```
vagrant up
npm install
grunt dev
```

Open: http://localhost:8088

Login with user: `rukzuk@example.com` and password `admin123`

If you change anything run `grunt dev` or use `grunt watch` to run it automacitally.

## Run Tests or simlilar

Enter container:

```
vagrant ssh
grunt phpunit:all
```

login with user: `rukzuk@example.com` and password `admin123`

## Where is my data?

The data which is generated by rukzuk is located at `/srv/rukzuk/htdocs/cms`(inside of the container) which is mounted on `docker/volume/cms/` (relative to the project repo).

## Troubleshooting

### `vagrant up` fails

This is mostly due to a old volume data which is located at `docker/volume` just remove this folder.


## Grunt Tasks

	grunt # shows an overview of available tasks
	grunt dev # install dev dependencies
	grunt test # test the client code (mostly linters and hinters + some phpunit tests)
	grunt phpunit:all # test the php code
	grunt build # builds all modules
	grunt package --channel=stable --build=`git describe --tags` # build a release package
  
## Build a snapshot

Use the script `build-snapshot.sh`.
